"use strict";define(function(){function i(){this.flag=!0,this.index=1}return i.prototype.listClick=function(i){for(var e=$(".kindlist ul").find("a"),a=0;a<e.length;a++)e.eq(a).attr("id","list"+(a+1));e.on("click",function(i){i.preventDefault(),$(location).attr("href","/html/list.html?"+this.id)})},i.prototype.listload=function(t,n){var r,p=this;$.get("http://localhost/www/php/list.php",{id:n,pageCount:12,index:p.index},function(i){var e=(i=JSON.parse(i)).alldata;i=i.data,r=Math.ceil(e/12);var a=t("list",{data:i});$("#content_con_goods").html(a),p.listClick(),p.listshow(t,r,n)})},i.prototype.listshow=function(i,e,a){var t=this,n="";if(t.flag){n+='<a href="javascript:;" id="goprev">上一页</a>';for(var r=1;r<=e;r++)n+=1==r?'<a href="javascript:;" class = "pageclick">'+r+"</a>":'<a href="javascript:;">'+r+"</a>";n+='<a href="javascript:;" id="gonext">下一页</a>',$("#pagechange").html(n),t.index==e?$("#gonext").replaceWith('<span id="gonext">下一页</span>'):$("#gonext").replaceWith('<a href="javascript:;" id="gonext">下一页</a>'),1==t.index?$("#goprev").replaceWith('<span id = "goprev">上一页</span>'):$("#goprev").replaceWith('<a href="javascript:;" id="goprev">上一页</a>'),t.init(e,i,a),t.flag=!1}},i.prototype.init=function(e,a,t){var n=this;$("#pagechange a").on("click",function(){var i=this.innerHTML;isNaN(Number(i))?"goprev"===this.id?(n.index--,n.index<1&&(n.index=1),$("#pagechange a").eq(n.index).addClass("pageclick").siblings().removeClass("pageclick"),1==n.index?$(this).replaceWith('<span id="goprev">上一页</span>'):($("#gonext").replaceWith('<a href="javascript:;" id="gonext">下一页</a>'),$(this).replaceWith('<a href="javascript:;" id="goprev">上一页</a>'),n.init(e,a,t))):"gonext"===this.id&&(n.index++,n.index>e&&(n.index=e),$("#pagechange").children().eq(n.index).addClass("pageclick").siblings().removeClass("pageclick"),n.index==e?$(this).replaceWith('<span id="gonext">下一页</span>'):($(this).replaceWith('<a href="javascript:;" id="gonext">下一页</a>'),$("#goprev").replaceWith('<a href="javascript:;" id="goprev">上一页</a>'),n.init(e,a,t))):(n.index=Number(i),$(this).addClass("pageclick").siblings().removeClass("pageclick"),n.index==e?$("#gonext").replaceWith('<span id="gonext">下一页</span>'):1==n.index?$("#goprev").replaceWith('<span id = "goprev">上一页</span>'):($("#goprev").replaceWith('<a href="javascript:;" id="goprev">上一页</a>'),$("#gonext").replaceWith('<a href="javascript:;" id="gonext">下一页</a>'),n.init(e,a,t))),n.listload(a,t)})},new i});